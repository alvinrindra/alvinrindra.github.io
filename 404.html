<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
        <link rel="shortcut icon" href="./assets/images/favicon.ico" type="image/x-icon" />
        <link rel="icon" href="./assets/images/favicon.ico" type="image/x-icon" />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

        <title>Alvin Rindra @ Github.io</title>

        <link type="text/css" rel="stylesheet" href="assets/javascripts/libs/bootstrap/dist/css/bootstrap.min.css">
        <link type="text/css" rel="stylesheet" href="assets/javascripts/libs/angular-ui-layout/src/ui-layout.css"/>
        <link type="text/css" rel="stylesheet" href="assets/javascripts/libs/cytoscape-panzoom/cytoscape.js-panzoom.css">
        <link type="text/css" rel="stylesheet" href="assets/stylesheets/style.css">

        <link type="text/css" rel="stylesheet" href="assets/javascripts/libs/qtip2/basic/jquery.qtip.min.css">
        <link type="text/css" rel="stylesheet" href="assets/javascripts/libs/angular-material/angular-material.min.css">

        <script data-main="assets/javascripts/main.js" type="text/javascript" src="assets/javascripts/libs/requirejs/require.js"></script>
    </head>

    <body ng-controller="AppController as app" ngsf-fullscreen>
      <div id="wrapper" layout="column" ng-cloak layout-fill>
        <md-sidenav class="md-sidenav-right md-whiteframe-4dp" md-component-id="right" style="z-index: 1001">
          <div ng-controller="SidenavController">
             <form>
               <md-toolbar class="md-theme-light">
                 <h1 class="md-toolbar-tools">
                   <md-input-container class="example-full-width" ng-if="selectedEntity !== 'createCompound'">
                     <input
                      style="color: white"
                      ng-model="selectedEntity.data().name"
                      ng-model-options="{ getterSetter: true, updateOn: 'default' }"
                     >
                   </md-input-container>
                   <!-- <input value="{{selectedEntity.data('name')}}" /> -->
                   <div ng-if="selectedEntity === 'createCompound'">
                    Create Compound Node:
                  </div>
                  </h1>
               </md-toolbar>
               <md-content layout-padding>
                  <img
                    ng-show="selectedEntity.data('image')"
                    ng-src="{{selectedEntity.data('image') === undefined ? '' : selectedEntity.data('image')}}"
                    style="width:200px;"
                  />
                   <md-input-container
                    ng-if="selectedEntity !== 'createCompound'"
                   >
                     <label for="testInput">Description</label>
                     <textarea
                        ng-model="selectedEntity.data().desc"
                        md-autofocus
                        ng-model-options="{ getterSetter: true, updateOn: 'default' }"
                      >
                     </textarea>
                   </md-input-container>
                   <md-input-container
                    ng-if="selectedEntity === 'createCompound'"
                   >
                     <label for="newCompound">Name</label>
                     <input
                        id="newCompound"
                        ng-if="selectedEntity === 'createCompound'"
                      >
                    </input>
                   </md-input-container>
                 <md-button ng-click="delete()" class="md-warn" ng-if="selectedEntity !== 'createCompound'">
                   Delete
                 </md-button>
                 <md-button ng-click="update()" class="md-primary" ng-if="selectedEntity !== 'createCompound'">
                   Update
                 </md-button>
                 <md-button ng-click="createCompound()" class="md-primary" ng-if="selectedEntity === 'createCompound'">
                   Create
                 </md-button>
               </md-content>
             </form>
             <md-toolbar class="md-scroll-shrink">
              <div layout="row" layout-align="center center" class="overflow-y: auto" ng-click="close()" flex>
                Close
              </div>
            </md-toolbar>
           </div>
        </md-sidenav>

        <span class="graphs">
            <main id="center-box-entity" resizable r-directions="['right']" r-flex="true" flex="none">
              <div id="content" class="container" ng-controller="GraphController">
                <div>
                  <div class="row">
                    <div class="col-xs-8">
                      <span>Node:</span>
                      <select class="btn btn-primary dropdown-toggle" ng-model="form.obj.objTypes" ng-options="name for name in objTypes"></select>
                      <md-input-container style="margin: 0; vertical-align:top; height: 30px;">
                        <input ng-model="form.obj.name" placeholder="Node text">
                      </md-input-container>
                      <button class="btn btn-success" ng-click="addObj()"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> ADD NODE</button>
                      <button class="btn btn-danger" ng-click="delObj()"><span class="glyphicon glyphicon-minus" aria-hidden="true"></span> DELETE NODE</button>
                      <button class="btn btn-default" ng-click="centerGraph()"><span class="glyphicon glyphicon-resize-full" aria-hidden="true"></span> FIT NODES</button>
                      <button class="btn btn-default" ng-click="reset()"><span class="glyphicon glyphicon-retweet" aria-hidden="true"></span> RESET NODES</button>
                    </div>
                    <div class="col-xs-4 text-right">
                      <button ng-hide="edgehandler" class="btn btn-success" ng-click="activateEdgeHandle()"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> ADD EDGE</button>
                      <button ng-show="edgehandler" class="btn btn-default" ng-click="disableEdgeHandle()"><span class="glyphicon glyphicon-arrow-left" aria-hidden="true"></span> BACK</button>
                      <span ng-hide="mapData.length > 1">
                        After adding 2 nodes, you can start adding connecting edges
                      </span>
                      <span ng-show="mapData.length > 1">
                          Edge (between 2 nodes)
                        <select ng-model="formEdges.fromName" ng-options="c.name for c in mapData">
                          <option value=""> From >> </option>
                        </select>
                        <select ng-model="formEdges.toName" ng-options="c.name for c in mapData">
                          <option value="">  To >> </option>
                        </select>
                        <button class="btn btn-success" ng-click="addEdge()">ADD EDGE</button>
                      </span>
                    </div>
                  </div>
                  <cytoscape data="graphData" cy-data="mapData" cy-edges="edgeData" cy-click="doClick(value)" options="graphOptions" events="graphEvents"/>
                </div>
              </div>
            </main>
        </span>
      </div>

      <div ng-controller="CirclenavController">
        <ul id="navs">
          <li>
            <a href="" ng-click="centerGraph()">
              <i id="circle-fit" class="fa fa-expand fa-2x" aria-hidden="true"></i>
            </a>
          </li>
          <li>
            <a href="" ng-click="layoutReset()">
              <i id="circle-reset" class="fa fa-retweet fa-2x" aria-hidden="true"></i>
            </a>
          </li>
          <li>
            <a href="" ng-click="addCompound()">
              <i id="circle-parent" class="fa fa-object-group fa-2x" aria-hidden="true"></i>
            </a>
          </li>
          <li>
            <a href="" ng-click="toggleSidenav()">
              <i id="circle-burger" class="fa fa-bars fa-2x" aria-hidden="true"></i>
            </a>
          </li>
        </ul>
      </div>


    </body>
</html>
